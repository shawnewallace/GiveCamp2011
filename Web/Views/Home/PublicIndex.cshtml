@{
	ViewBag.Title = "Westerville Artists Unite";
	Layout = "~/Views/Shared/_PublicLayout.cshtml";
}
<h2>Artist &amp; Venue Listings</h2>
<div>
	@{Html.RenderAction("CoverFlow", "ArtistPublic");}
</div>
<p class="small">You can search for artists and venues in Westerville. Blaa, blaa blaaa....</p>
<section id="search">
	<h3>Search</h3>
	<div id="search-box">
		<div class="clear-fix">
			<label for="query">Search Artists and Venues</label>
			<input type="text" id="artist-venue-query" name="query" placeholder="search for artists and venues" />
			<a id="artist-venue-button" href="#">Go</a>
		</div>
	</div>
</section>
<section id="browse">
	<h3>Browse Artists</h3>
	<ul id="artists-category-list">
		<li><a href="#">Visual</a>
			<ul>
				<li><a href="#">Oils</a></li>
				<li><a href="#">Acrylics</a></li>
				<li><a href="#">Watercolor</a></li>
				<li><a href="#">Pastel</a></li>
				<li><a href="#">Sculpture</a></li>
				<li><a href="#">Teacher</a></li>
				<li><a href="#">Public Art</a></li>
			</ul>
		</li>
		<li><a href="#">Literature</a>
			<ul>
				<li><a href="#">Poetry</a></li>
				<li><a href="#">Novelty</a></li>
				<li><a href="#">Teacher</a></li>
			</ul>
		</li>
		<li><a href="#">Theatre</a>
			<ul>
				<li><a href="#">Actor</a></li>
				<li><a href="#">Sound Design</a></li>
				<li><a href="#">Backdrop</a></li>
				<li><a href="#">Teacher</a></li>
			</ul>
		</li>
		<li><a href="#">Music</a>
			<ul>
				<li><a href="#">Compose</a></li>
				<li><a href="#">Orchestra</a></li>
				<li><a href="#">Teacher</a></li>
			</ul>
		</li>
	</ul>
	<div style="clear: both;">
	</div>
</section>
<section id="results">
	<ul></ul>
</section>
<script type="text/javascript">
	$(document).ready(function () {
		$("'[placeholder]'").focus(function () {
			var input = $(this);
			if (input.val() == input.attr("'placeholder'")) {
				input.val("''");
				input.removeClass("'placeholder'");
			}
		}).blur(function () {
			var input = $(this);
			if (input.val() == "''" || input.val() == input.attr("'placeholder'")) {
				input.addClass("'placeholder'");
				input.val(input.attr("'placeholder'"));
			}
		}).blur();

		$("#artist-venue-button").click(function () {
			$.getJSON("/Home/Search?term=" + $("#artist-venue-query").val(), function (data) {
				$.each(data.Results, function (i, item) {
					var content = "";
					content += "<li><h3><a href='/Artists/Details/" + item.Id + "'>" + item.Name + "</a></h3>";
					content += "<p>" + item.Type + "</p>";
					content += "<p>" + item.Bio + "</p>";
					$('#results ul').append(content);
				});
				$('#browse').hide();
			});
		});

		$("#artist-venue-query").autocomplete({
			minLength: 1,
			source: "/Home/Search/",
			focus: function (event, ui) {
				$("#artist-venue-query").val(ui.item.Name);
				return false;
			},
			select: function (event, ui) {
				$("#artist-venue-query").val(ui.item.Name);
				$("#result-id").val(ui.item.Id);
				$("#result-name").html(ui.item.Name);
				$("#result-type").html(ui.item.Type);
				$("#result-bio").html(ui.item.Bio);
				return false;
			}
		})
		.data("autocomplete")._renderItem = function (ul, item) {
			return $("<li class='search-result'></li>")
				.data("item.autocomplete", item)
				.append("<a href='/Artist/Details/" + item.Id + "' />" + item.Name + "<span class='result-type'>" + item.Type + "</span>")
				.appendTo(ul);
		};
	});
</script>
